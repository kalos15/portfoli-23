<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2 VIDEOS SHORTS</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body, html {
      margin: 0; padding: 0; height: 100%; background: #ffe6f0; overflow: hidden;
      font-family: 'Arial', sans-serif;
    }
    #videoContainer { width: 100%; height: 100%; position: relative; }
    .video-slide { width: 100%; height: 100%; position: absolute; top: 0; left: 0; }
    video { width: 100%; height: 100%; object-fit: cover; }
    .info { position: absolute; bottom: 80px; left: 20px; color: #fff; text-shadow: 0 0 10px rgba(0,0,0,0.5); }
    .actions { position: absolute; bottom: 20px; right: 20px; }
    .like-btn { font-size: 30px; background: none; border: none; cursor: pointer; color: #ff0066; }
    #noAdsBtn { position: absolute; top: 20px; right: 20px; padding: 10px 15px; border: none; border-radius: 10px; background: #ff99c2; color: #fff; cursor: pointer; font-weight: bold; z-index: 10; }
    #overlay { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); display:flex; justify-content:center; align-items:center; color:#fff; }
    .overlay-content { background:#fff; color:#000; padding:20px; border-radius:15px; text-align:center; max-width:300px; }
    .hidden { display: none; }
    .ad-screen { display:flex; flex-direction:column; justify-content:center; align-items:center; width:100%; height:100%; color:#fff; font-size:24px; background: rgba(0,0,0,0.8); }
  </style>
</head>
<body>
  <div id="videoContainer"></div>
  <button id="noAdsBtn">üö´ No Ads</button>

  <div id="overlay" class="hidden">
    <div class="overlay-content">
      <h2>Remove Ads for Only $0.99/month üíé</h2>
      <p>Enjoy uninterrupted viewing experience.</p>
      <button id="subscribeBtn">Subscribe</button>
      <button id="closeOverlay">Close</button>
    </div>
  </div>

  <script>
    let videos = [];
    let currentIndex = 0;
    let swipeCount = 0;
    let startY = 0;

    const videoContainer = document.getElementById("videoContainer");
    const overlay = document.getElementById("overlay");
    const closeOverlay = document.getElementById("closeOverlay");
    const noAdsBtn = document.getElementById("noAdsBtn");

    // Load videos from videos.txt
    async function loadVideos() {
      try {
        const res = await fetch("videos.txt");
        const text = await res.text();
        videos = text.split("\n")
          .map(v => v.trim())
          .filter(v => v.length > 0 && v.startsWith("http"));
        shuffleArray(videos);
        playNext();
      } catch(e) {
        console.error("‚ùå Error loading videos:", e);
      }
    }

    function playNext() {
      if (!videos.length) return;
      swipeCount++;
      // Show ad every 4 videos
      if (swipeCount % 4 === 0) {
        videoContainer.innerHTML = `<div class="ad-screen"><h2>Ad Coming Soon üé¨</h2><p>Your video will resume shortly...</p></div>`;
        setTimeout(() => loadVideo(currentIndex), 3000); // resume after ad
      } else {
        loadVideo(currentIndex);
        currentIndex = (currentIndex + 1) % videos.length;
      }
    }

    function loadVideo(index) {
      const url = videos[index];
      videoContainer.innerHTML = `
        <div class="video-slide">
          <video src="${url}" autoplay muted playsinline></video>
          <div class="info">
            <h2>2 VIDEOS SHORTS</h2>
            <p>xxx</p>
          </div>
          <div class="actions">
            <button class="like-btn">‚ù§Ô∏è</button>
          </div>
        </div>
      `;
      const video = videoContainer.querySelector("video");
      video.play().catch(e => console.log("Autoplay error:", e));
      video.addEventListener("ended", playNext);
    }

    // Swipe detection
    document.addEventListener("touchstart", e => { startY = e.touches[0].clientY; });
    document.addEventListener("touchend", e => {
      const endY = e.changedTouches[0].clientY;
      if (startY - endY > 50) playNext();
    });
    document.addEventListener("wheel", e => { if(e.deltaY>0) playNext(); });

    // Shuffle function
    function shuffleArray(arr) {
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
    }

    // Overlay buttons
    noAdsBtn.onclick = () => overlay.classList.remove("hidden");
    closeOverlay.onclick = () => overlay.classList.add("hidden");

    // Start
    loadVideos();
  </script>
</body>
</html>

